<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Stream (gitlab.Gitlab_s.Gitlab.Stream)</title><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v2.3.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">gitlab</a> &#x00BB; <a href="../../index.html">Gitlab_s</a> &#x00BB; <a href="../index.html">Gitlab</a> &#x00BB; Stream</nav><header class="odoc-preamble"><h1>Module <code><span>Gitlab.Stream</span></code></h1><p>The <code>Stream</code> module provides an abstraction to GitLab's paginated endpoints. Stream creation does not initiate any network activity. When requests are made, results are buffered internally. Streams are not mutable.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span></code></div><div class="spec-doc"><p><code>'a t</code> is a stream consisting roughly of a buffer and a means to refill it.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-parse"><a href="#type-parse" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a parse</span></span><span> = <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>'a parse</code> is the type of functions which extract elements from a paginated response.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-next"><a href="#val-next" class="anchor"></a><code><span><span class="keyword">val</span> next : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span> * <span><span class="type-var">'a</span> <a href="#type-t">t</a></span>)</span> option</span> <a href="../Monad/index.html#type-t">Monad.t</a></span></span></code></div><div class="spec-doc"><p><code>next s</code> is the next element of the stream and a stream continuation if one exists. The input stream is not modified. This function offers an efficient, lazy, and uniform means to iterate over ordered API results which may be too numerous to fit into a single request/response pair.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> list</span> <a href="../Monad/index.html#type-t">Monad.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>map f s</code> is the lazy stream of <code>f</code> applied to elements of <code>s</code> as they are demanded.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-take"><a href="#val-take" class="anchor"></a><code><span><span class="keyword">val</span> take : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>take n s</code> is the lazy stream of the first <code>n</code> elements of <code>s</code> as they are demanded.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Monad/index.html#type-t">Monad.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Monad/index.html#type-t">Monad.t</a></span></span></code></div><div class="spec-doc"><p><code>fold f a s</code> is the left fold of <code>f</code> over the elements of <code>s</code> with a base value of <code>a</code>. <b>Warning:</b> this function may result in <i>many</i> successive API transactions.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span> * <span><span class="type-var">'a</span> <a href="#type-t">t</a></span>)</span> option</span> <a href="../Monad/index.html#type-t">Monad.t</a></span></span></code></div><div class="spec-doc"><p><code>find p s</code> is the first value in <code>s</code> satisfying <code>p</code> if one exists and a stream continuation for further ingestion.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../Monad/index.html#type-t">Monad.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../Monad/index.html#type-t">Monad.t</a></span></span></code></div><div class="spec-doc"><p><code>iter f s</code> is activated after the application of <code>f</code> to each element of <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_list"><a href="#val-to_list" class="anchor"></a><code><span><span class="keyword">val</span> to_list : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <a href="../Monad/index.html#type-t">Monad.t</a></span></span></code></div><div class="spec-doc"><p><code>to_list s</code> is a list with each element of <code>s</code>. <b>Warning:</b> this function may result in <i>many</i> successive API transactions.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_list"><a href="#val-of_list" class="anchor"></a><code><span><span class="keyword">val</span> of_list : <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>of_list l</code> is a stream with each element of <code>l</code>. Occasionally, it is useful to write interfaces which operate generically on streams. <code>of_list</code> allows you to use list values with those interfaces.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-poll"><a href="#val-poll" class="anchor"></a><code><span><span class="keyword">val</span> poll : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> option</span> <a href="../Monad/index.html#type-t">Monad.t</a></span></span></code></div><div class="spec-doc"><p><code>poll stream</code> is a stream with items newer than <code>stream</code>'s items and will not resolve until any timeouts indicated by GitLab have elapsed. By default, GitLab throttles polling requests to once per minute per URL endpoint.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-since"><a href="#val-since" class="anchor"></a><code><span><span class="keyword">val</span> since : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Endpoint/Version/index.html#type-t">Endpoint.Version.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>since stream version</code> is <code>stream</code> with <code>version</code> but without any other change, i.e. the stream is not reset to its beginning. Used in conjunction with <code>poll</code>, <code>since</code> enables low-cost conditional re-synchronization of local state with GitLab state.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-version"><a href="#val-version" class="anchor"></a><code><span><span class="keyword">val</span> version : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Endpoint/Version/index.html#type-t">Endpoint.Version.t</a> option</span></span></code></div><div class="spec-doc"><p><code>version stream</code> is the version of <code>stream</code> if one is known. After any stream element is forced, the stream version will be available unless GitLab violates its API specification.</p></div></div></div></body></html>
